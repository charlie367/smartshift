/* ===== SmartSHIFT merged SCSS (last-declaration-wins) =====
   Generated: 2025-09-20
   Note: 保留你的樣式與行為，僅合併重複 selector，維持「最後出現者優先」。
============================================================= */

/* Angular Material calendar overrides */
::ng-deep .mat-calendar-table { width: 138% !important; }
::ng-deep .mat-calendar-controls { width: 145% !important; }
::ng-deep .mat-calendar-body-cell-content { font-size: 13px !important; }
::ng-deep .mat-calendar-body-today { border: none !important; background: transparent !important; }

/* Calendar + Chat layout */
.left-calendar { flex: 0 0 auto; }

.calendar-container {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 20px;
  margin: 0px auto;
  padding: 20px;
  max-width: 900px;
  margin-left: 240px;
  margin-top: 20px;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  flex-wrap: wrap;
  border: 1px solid black;
}

.title { width: 100%; margin: 0; text-align: left; font-size: 14px; font-weight: 600; }

.right-week {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;

  .week-header {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
    gap: 20px;
    font-weight: bold;
  }
  .week-grid { display: flex; justify-content: space-around; width: 80%; text-align: center; }
  .week-day { min-width: 80px; }
  .week-day .day-title { font-weight: bold; margin-bottom: 10px; }
  .week-day .day-slots { display: flex; flex-direction: column; gap: 10px; margin-left: 6px; }
}

.buttontime { height: 20%; width: 20%; }

.header-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background: #f5f5f5; border-radius: 8px 8px 0 0; }

.chat-box {
  margin-top: 120px;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  max-height: 200px;
  max-width: 920px;
  margin-left: 240px;
  overflow-y: auto;
  background: #f9f9f9;
  gap: 10px;
}

.user { text-align: right; color: blue; margin: 5px 0; }
.assistant { text-align: left; color: green; margin: 5px 0; display: flex; align-items: flex-start; gap: 10px; border-radius: 50%; vertical-align: middle; margin-right: 5px; }
.assistant-avatar { width: 75px; height: 75px; flex-shrink: 0; }
.assistant-text { background: #f9f9f9; padding: 10px; border-radius: 8px; color: green; line-height: 1.5; max-width: 600px; word-wrap: break-word; }

.custom-tab-group { width: 940px; height: auto; margin-left: 240px; border: 1px solid black; border-radius: 12px; }

/* Job card */
.job-card { width: 100%; background: #f0f1f6; border-radius: 16px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); font-family: "Microsoft JhengHei", "Noto Sans TC", sans-serif; margin-top: 20px; }
.job-header { padding: 8px; display: flex; align-items: center; margin-bottom: 8px; gap: 8px; background: #E9ECF4; }
.job-list { width: 750px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px; }
.badge { background: #ff4d4f; color: #fff; font-size: 12px; font-weight: bold; padding: 2px 8px; border-radius: 4px; }
.subtitle { font-size: 14px; color: #666; width: 100px; }
.job-time { font-size: 20px; font-weight: bold; padding: 8px; }
.job-info { display: flex; justify-content: space-between; padding: 8px; }
.info-left .info-item { display: flex; align-items: center; gap: 6px; margin-bottom: 6px; font-size: 14px; color: #444; }
.info-right { text-align: right; font-size: 14px; margin-bottom: 4px; }
.info-text { margin-bottom: 4px; }
.label { color: #888; }
.value.green { color: #38a169; }

/* Sidebar & Top bar */
.sidebar {
  position: fixed;
  left: 0; top: 0px; bottom: 0;
  width: 220px; height: auto;
  background: #fff; color: #444;
  display: flex; flex-direction: column; align-items: stretch;
  border-right: 1px solid #e5e7eb;
  margin-top: 0 !important;
}

.menu-item {
  width: 140px; margin: 0 20px; padding: 12px 20px;
  display: flex; align-items: center; justify-content: flex-start; gap: 8px;
  cursor: pointer; font-size: 15px; color: #444; border-radius: 8px; transition: all 0.2s;
}
.menu-item mat-icon { font-size: 20px; color: #666; min-width: 20px; text-align: center; display: inline-flex; align-items: center; line-height: 1; width: auto !important; height: auto !important; margin: 0 !important; }
.menu-item:hover { background: #e8f0fe; color: #1976d2; }
.menu-item:hover mat-icon { color: #1976d2; }
.menu-item.active { background: #e8f0fe; color: #1976d2; font-weight: 600; }
.menu-item.active mat-icon { color: #1976d2; }
.menu-item label { font-size: 16px; font-weight: 600; }

.menu-item1 { margin: 20px 0; cursor: pointer; margin-left: auto; }
.menu-item1 mat-icon { display: block; font-size: 26px; align-items: center; }
.menu-item1 label { font-size: 16px; font-weight: 600; }

.top-tag {
  position: fixed; top: 0; left: 221px;
  width: calc(100% - 221px);
  display: flex; align-items: center; justify-content: flex-end;
  padding: 12px 24px; background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  z-index: 950; border-bottom: 1px solid rgba(0,0,0,0.15);
  box-sizing: border-box;
}

.tag-icon { width: 60px; height: 60px; align-self: center; }
.tag-text { font-size: 18px; font-weight: bold; color: #222; text-align: center; }

.content { margin-top: 80px; }

.logo-text { font-family: 'Montserrat', sans-serif; font-size: 19px; font-weight: 700; color: black; display: flex; align-items: center; justify-content: center; height: 75px; margin-top: 10px; margin-bottom: 20px; }

/* Floating clock & salary (global floating versions) */
.side-clock { position: fixed; top: -100px; right: -160px; z-index: 100; pointer-events: none; }
.drop { position: fixed; top: 350px; right: -115px; z-index: 100; pointer-events: none; }
.salary-text { position: fixed; top: 320px; right: 70px; font-weight: bold; color: black; z-index: 100; pointer-events: none; }

.schedule-wrapper { margin-left: 140px; margin-top: 120px; padding: 20px; }

.divider { display: block; width: 100%; border: 0; border-top: 1px solid #e5e7eb; margin: 0 0 12px; }

.logout-section { margin-top: auto; width: 100%; padding: 0; }
.sidebar .logout-section { padding-bottom: 0 !important; }
.sidebar .logout-section .menu-item.logout { padding: 12px 20px !important; margin: 0 20px 25px !important; border-radius: 8px; color: #e53935; }
.sidebar .logout-section .menu-item.logout:hover { background: #fdecea; color: #b71c1c; }
.sidebar .logout-section .menu-item.logout:hover mat-icon { color: #b71c1c; }
.sidebar .logout-section .menu-item:not(.logout) { padding: 12px 20px !important; margin: 0 20px !important; border-radius: 8px; }
.menu-item.logout, .menu-item.logout mat-icon { color: #e53935; }
.menu-item.logout:hover { background: #fdecea; color: #b71c1c; }
.menu-item.logout:hover mat-icon { color: #b71c1c; }

/* Month (attendance) card */
.month-container {
  background: #fff; border-radius: 12px; padding: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  max-width: 900px; margin-left: 240px; margin-top: 20px;
  border: 1px solid black;
}

.month-header {
  display: flex; justify-content: center; align-items: center;
  font-weight: bold; font-size: 18px; color: #3f51b5; margin-bottom: 16px;
}
.month-header .arrow { background: none; border: none; font-size: 20px; cursor: pointer; margin: 0 12px; }
.month-header .month-title { display: flex; align-items: center; gap: 6px; }

.stats-row { display: flex; justify-content: space-around; margin-bottom: 16px; }
.stats-row .stat-card {
  display: flex; align-items: center; gap: 8px; padding: 12px; border-radius: 8px; color: #333; background: #f9f9f9; flex: 1; margin: 0 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}
.stats-row .stat-card .value { font-weight: bold; font-size: 16px; }
.stats-row .stat-card .label { font-size: 12px; color: #777; }
.stats-row .green mat-icon { color: #4caf50; }
.stats-row .orange mat-icon { color: #ff9800; }
.stats-row .purple mat-icon { color: #673ab7; }
.stats-row .red mat-icon { color: #f44336; }

.work-log-table-wrapper { max-height: 250px; overflow-y: auto; }
.work-log-table { width: 100%; border-collapse: collapse; font-size: 14px; }
.work-log-table th, .work-log-table td { padding: 10px; border-bottom: 1px solid #eee; text-align: left; }
.work-log-table th { font-weight: bold; background: #f5f5f5; }
.work-log-table .checkin { color: #2196f3; font-weight: bold; }
.work-log-table .checkout { color: #4caf50; font-weight: bold; }

/* Dashboard split (left main + right aside) */
.dashboard-layout { display: flex; gap: 20px; align-items: flex-start; margin-bottom: 20px; }
.dashboard-layout .month-container { flex: 2; }

.employee-list { flex: 1; background: #fff; border-radius: 8px; padding: 16px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-height: 500px; overflow-y: auto; }
.employee-list h3 { margin: 0 0 12px 0; font-size: 16px; border-bottom: 2px solid #3f51b5; padding-bottom: 6px; }
.employee-item { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; }
.employee-item:last-child { border-bottom: none; }
.avatar { width: 40px; height: 40px; border-radius: 50%; margin-right: 12px; }

/* Unified dashboard row (two columns) */
.dashboard-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 300px; /* 左自適應、右固定 */
  gap: 24px;
  align-items: start;
  margin-left: 240px; /* 避開 sidebar */
  margin-right: 24px;
  margin-top: 120px !important; /* 以最後出現為準 */
}

.left-col { display: flex; flex-direction: column; gap: 20px; }

.dashboard-row .chat-box { margin: 0 !important; max-width: none !important; }

/* 以最後出現為準：calendar 橫跨整列並移除原本外距限制 */
.dashboard-row .calendar-container {
  grid-column: 1 / -1;
  width: 100%;
  margin: 0 !important;
  max-width: none !important;
  box-sizing: border-box;
}

/* 右側卡片欄 */
.right-aside { display: flex; flex-direction: column; gap: 16px; position: relative; z-index: 2; }
.widget-card { background: #fff; border-radius: 16px; border: 1px solid #e7e7ee; box-shadow: 0 8px 24px rgba(0,0,0,.08); overflow: hidden; }
.widget-header { padding: 14px 16px; font-weight: 700; color: #2f5fd3; border-bottom: 1px solid #edf0f6; }
.widget-body { padding: 16px; min-height: 160px; }

@media (max-width: 1200px){ .dashboard-row{ grid-template-columns: 1fr; margin-right: 12px; } }

/* Employee list (right column card) */
.employee-list-wrapper { max-height: 460px; overflow-y: auto; overflow-x: hidden; border: 1px solid #e6e8ef; border-radius: 12px; background: #fff; }
.employee-list { padding: 16px; overflow: visible !important; max-height: none !important; }
.employee-list h3 { margin: 0 0 12px 0; font-size: 16px; border-bottom: 2px solid #3f51b5; padding-bottom: 6px; }
.employee-item { display: flex; justify-content: space-between; align-items: flex-end; gap: 12px; padding: 12px 0; border-bottom: 1px solid #eee; }
.employee-item:last-child { border-bottom: none; }
.info .name { font-weight: 600; font-size: 15px; margin-bottom: 4px; }
.info .detail { font-size: 13px; color: #555; }
.info .extra { font-size: 12px; color: #888; margin-top: 2px; }
.role { font-size: 13px; color: #4caf50; font-weight: 600; white-space: nowrap; margin-left: auto; }
.right-aside .widget-card:nth-child(2){ margin-top: 16px; }

/* Schedule list rows */
.schedule-item { display: flex; justify-content: space-between; align-items: flex-end; padding: 12px 0; border-bottom: 1px solid #eee; position: relative; }
.schedule-item:last-child { border-bottom: none; }

/* 右欄內：把舊的 fixed 元件改回正常卡片內排版 */
.right-aside .side-clock,
.right-aside .drop,
.right-aside .salary-text{
  position: static !important;
  top: auto !important; right: auto !important; z-index: auto !important;
  pointer-events: auto !important;
}

.clock-body { display:flex; justify-content:center; align-items:center; min-height: 260px; padding: 16px; overflow: hidden; }
.clock-wrap { position: relative; width: 100%; height: 100%; }
.clock-embed { position: absolute !important; left: 50%; top: 50%; transform: translate(-50%, -50%) !important; width: 220px !important; height: 220px !important; margin: 0 !important; z-index: 1; }

/* 置中顯示的時鐘（嵌在卡片內） */
.clock-inline {
  position: static !important; top: auto !important; right: auto !important; bottom: auto !important; left: auto !important; transform: none !important;
  display: block !important; margin: 0 !important; width: 220px !important; height: 220px !important; z-index: 1 !important;
}
.clock-inline canvas,
.clock-inline svg,
.clock-inline img { width: 100% !important; height: 100% !important; display: block; }

/* 保險：不要讓右欄讀到舊的 .side-clock 样式 */
.right-aside .side-clock { display: none !important; }

/* 僅保留全域漂浮那顆（在 body 直屬的 app-clock） */
body > app-clock.side-clock{ position: fixed; top: -100px; right: -160px; z-index: 100; pointer-events: none; }
